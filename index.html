<!DOCTYPE html>
<html lang="en">

<head>

    <!-- Meta settings for character encoding and responsive design -->
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
        href="https://fonts.googleapis.com/css2?family=Alfa+Slab+One&family=Anton&family=Bree+Serif&family=Cascadia+Code:ital,wght@0,200..700;1,200..700&family=Cascadia+Mono:ital,wght@0,200..700;1,200..700&family=Caveat:wght@400..700&family=Comic+Relief:wght@400;700&family=Coral+Pixels&family=Dancing+Script:wght@400..700&family=Edu+QLD+Beginner:wght@400..700&family=Exo+2:ital,wght@0,100..900;1,100..900&family=Geist+Mono:wght@100..900&family=Hind+Siliguri:wght@300;400;500;600;700&family=IBM+Plex+Serif:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;1,100;1,200;1,300;1,400;1,500;1,600;1,700&family=Indie+Flower&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&family=Lilita+One&family=Orbitron:wght@400..900&family=Permanent+Marker&family=Playwrite+DK+Loopet:wght@100..400&family=Righteous&family=Source+Code+Pro:ital,wght@0,200..900;1,200..900&family=Space+Grotesk:wght@300..700&display=swap"
        rel="stylesheet" />

    <link rel="icon" type="image/png" sizes="32x32" href="logo.png" />
    <title>‡¶™‡ßã‡¶°‡¶º‡¶æ‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶â‡¶ö‡ßç‡¶ö ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º, ‡¶∏‡¶ø‡¶∞‡¶æ‡¶ú‡¶ó‡¶û‡ßç‡¶ú ‡ß©‡ß¨ ‡¶¨‡¶õ‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶§‡¶ø ‡¶â‡¶™‡¶≤‡¶ï‡ßç‡¶∑‡ßá ‡¶™‡ßÅ‡¶®‡¶∞‡ßç‡¶Æ‡¶ø‡¶≤‡¶®‡ßÄ ‡¶â‡ßé‡¶∏‡¶¨</title>

    <!-- Tailwind CSS CDN for styling -->
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />

    <style>
        /* Background image and general styling */
        body {
            background-image: url('bg.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            font-family: "Exo 2", "Hind Siliguri", sans-serif;
            font-weight: 400;
            font-style: normal;
            font-optical-sizing: auto;
        }

        /* Smooth fade transition effect */
        .fade {
            transition: all 0.5s ease;
            opacity: 0.85;
        }

        /* Class to hide elements with fade effect */
        .fade-out {
            opacity: 0;
        }

        /* Header lock effect */
        header {
            position: sticky;
            top: 0;
            z-index: 50;
        }

        #mainHeading {
            font-size: 2em;
            text-align: center;
            background-image: url(color0.webp);
            background-position: center;
            color: transparent;
            background-clip: text;
            -webkit-background-clip: text;
        }

        /* Smoothly moves the announcement from right to left */
        @keyframes marquee {
            0% {
                transform: translateX(100%);
            }

            100% {
                transform: translateX(-100%);
            }
        }

        .animate-marquee {
            animation: marquee 15s linear infinite;
        }
    </style>
</head>

<body class="bg-gray-100 text-gray-800">

    <!-- Header section for the event title and language toggle buttons -->
    <header class="bg-gray-800 text-white py-4 text-center fade">

        <h1 id="mainHeading" class="text-3xl font-bold">Reunion Festival Marking The 36 Years Anniversary of
            Porabari High
            School, Sirajganj</h1>
        <p id="organizerInfo" class="text-sm mt-1">üë• Organized by SSC students from 1989 to 2025</p>

        <div class="mt-2">
            <!-- Language selection buttons -->
            <button onclick="setLanguage('en')" class="bg-white text-blue-600 px-3 py-1 rounded mr-2">English</button>
            <button onclick="setLanguage('bn')" class="bg-white text-blue-600 px-3 py-1 rounded">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</button>
        </div>

        <!-- üîî Scrolling Deadline Announcement -->
        <div class="mt-3 overflow-hidden relative h-10">
            <div id="deadlineAnnouncement"
                class="absolute whitespace-nowrap animate-marquee text-yellow-200 text-sm font-medium">
                <!-- This content will be updated dynamically via JavaScript -->
            </div>
        </div>

    </header>

    <!-- Registration form container -->
    <div class="max-w-xl mx-auto p-6 mt-10 bg-white rounded-2xl shadow-lg fade">

        <!-- Highlight Bar for How to Make Payment Video -->
        <div class="bg-yellow-100 text-yellow-900 px-4 py-3 text-center shadow-md fade">
            <p id="paymentHelpText" class="text-sm md:text-base font-medium">
                üí° Confused about payment?
                <a id="paymentHelpLink" href="tutorial.html" target="_parent"
                    class="underline text-blue-800 hover:text-green-800">
                    Watch the Payment Instruction Video
                </a>
            </p>
        </div>
        <br />

        <h1 id="correctInfoHeading" class="text-2xl font-bold mb-4 text-center">Correct Information Form üìù</h1>

        <!-- Registration form starts here -->
        <form id="registrationForm" method="post"
            action="https://script.google.com/macros/s/AKfycbyOs9qRW4fPPNTWAzNeb9YKmPoP9RDFDonSGL-6qsM1ep1hWty4yY56-Tn4cQPvjvFWAw/exec">
            <!-- Full Name Input Field -->
            <div class="mb-4">
                <label for="name" class="block mb-1 font-medium">Full Name üßë<span class="text-red-500">*</span></label>
                <input type="text" id="name" name="name" placeholder="Enter Your Full Name"
                    class="w-full border border-gray-300 p-2 rounded" required />
            </div>

            <!-- Phone Number Input Field with validation -->
            <div class="mb-4">
                <label for="phone" class="block mb-1 font-medium">Phone Number üì±<span
                        class="text-red-500">*</span></label>
                <input type="tel" id="phone" name="phone" placeholder="Enter Your Phone Number" maxlength="11"
                    inputmode="numeric" pattern="01[0-9]{9}" class="w-full border border-gray-300 p-2 rounded"
                    title="Enter a valid 11-digit Bangladeshi phone number" required />
            </div>

            <!-- SSC Batch Input Field -->
            <div class="mb-4">
                <label for="ssc_batch" class="block mb-1 font-medium">SSC Batch üéì<span
                        class="text-red-500">*</span></label>
                <select id="ssc_batch" name="ssc_batch" class="w-full border border-gray-300 p-2 rounded" required>
                    <option value="">Select Batch</option>
                    <!-- Batch options from 2017 to 2025 -->
                </select>
            </div>

            <!-- Number of Participants Input Field with real-time total update -->
            <div class="mb-4">
                <label for="participants" class="block mb-1 font-medium">Number of Participants üë®‚Äçüë©‚Äçüëß‚Äçüë¶<span
                        class="text-red-500">*</span></label>
                <input type="number" placeholder="0" id="participants" name="participants" min="1" max="100"
                    class="w-full border border-gray-300 p-2 rounded" required oninput="updateAmount()" />
            </div>

            <!-- T-Shirt Size Dropdown Selection -->
            <div class="mb-4">
                <label for="tshirt_size" class="block mb-1 font-medium">T-Shirt Size üëï<span
                        class="text-red-500">*</span></label>
                <select id="tshirt_size" name="tshirt_size" class="w-full border border-gray-300 p-2 rounded" required>
                    <option value="">Select Size</option>
                    <option value="S">S</option>
                    <option value="M">M</option>
                    <option value="L">L</option>
                    <option value="XL">XL</option>
                    <option value="XXL">XXL</option>
                </select>
            </div>

            <!-- Blood Group Dropdown Selection -->
            <div class="mb-4">
                <label for="blood_group" class="block mb-1 font-medium">Blood Group ü©∏<span
                        class="text-red-500">*</span></label>
                <select id="blood_group" name="blood_group" class="w-full border border-gray-300 p-2 rounded" required>
                    <option value="">Select Blood Group</option>
                    <option value="A+">A+</option>
                    <option value="A-">A-</option>
                    <option value="B+">B+</option>
                    <option value="B-">B-</option>
                    <option value="AB+">AB+</option>
                    <option value="AB-">AB-</option>
                    <option value="O+">O+</option>
                    <option value="O-">O-</option>
                </select>
            </div>

            <!-- Profession Radio Buttons and Conditional Fields -->
            <fieldset class="mb-4">
                <legend class="font-medium mb-2">Profession üëî <span class="text-red-500">*</span></legend>
                <div class="flex items-center space-x-4">
                    <label>
                        <input type="radio" name="profession" value="job" onchange="selectProfession('job')" required />
                        Job
                    </label>
                    <label>
                        <input type="radio" name="profession" value="business"
                            onchange="selectProfession('business')" />
                        Business
                    </label>
                    <label>
                        <input type="radio" name="profession" value="student" onchange="selectProfession('student')" />
                        Student
                    </label>
                    <label>
                        <input type="radio" name="profession" value="other" onchange="selectProfession('other')" />
                        Others
                    </label>
                </div>

                <!-- Job related inputs -->
                <div id="job-fields" class="mt-3 hidden">
                    <label for="org-name" class="block mb-1">Organization Name</label>
                    <input type="text" id="org-name" name="org_name" placeholder="Organization Name"
                        class="w-full border border-gray-300 p-2 rounded" required />
                    <label for="position" class="block mb-1 mt-2">Job Position</label>
                    <input type="text" id="position" name="position" placeholder="Position"
                        class="w-full border border-gray-300 p-2 rounded" required />
                </div>

                <!-- Business related inputs -->
                <div id="business-fields" class="mt-3 hidden">
                    <label for="business-type" class="block mb-1">Type of Business</label>
                    <input type="text" id="business-type" name="business_type" placeholder="Type of Business"
                        class="w-full border border-gray-300 p-2 rounded" required />
                </div>
            </fieldset>

            <!-- Upload Photo Field -->
            <div class="mb-6">
                <!-- Label for the file input -->
                <label for="upload_photo" class="block text-gray-700 font-medium mb-2">
                    Upload Photo üì∏<span class="text-red-500">*</span>
                </label>

                <!-- Upload container with dashed border and hover effect -->
                <div
                    class="border-2 border-dashed border-gray-300 rounded-lg p-4 bg-gray-50 hover:bg-gray-100 transition duration-200">

                    <!-- Label acts as a clickable area for file input -->
                    <label for="upload_photo"
                        class="flex flex-col items-center justify-center cursor-pointer space-y-2">

                        <!-- Upload icon SVG -->
                        <svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" stroke-width="1.5"
                            viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M3 16.5V19a2.5 2.5 0 002.5 2.5h13a2.5 2.5 0 002.5-2.5v-2.5M16 10l-4-4m0 0L8 10m4-4v12" />
                        </svg>

                        <!-- Instructional text for the user -->
                        <span class="text-gray-500 text-sm text-center">Click to upload or drag your photo here<br>
                            <span class="text-xs text-gray-400">(PNG, JPG only, max 10MB)</span>
                        </span>

                        <!-- Actual hidden file input -->
                        <input type="file" id="upload_photo" name="upload_photo" accept="image/png, image/jpeg"
                            class="hidden" required>

                        <!-- Container for preview image and remove button, hidden initially -->
                        <div id="photoContainer" style="display:none; position:relative; width: fit-content;"
                            class="mt-2">

                            <!-- Remove button to clear the selected image -->
                            <button id="removePhoto" type="button"
                                style="position: absolute; top: 2px; right: 2px; background-color: rgba(0, 0, 0, 0.4); color: white; border: none; border-radius: 4px; padding: 1px 6px; cursor: pointer; z-index: 10;">
                                ‚úï
                            </button>

                            <!-- Image preview element -->
                            <img id="photoPreview" src="" alt="Preview"
                                style="max-width: 100px; max-height: 100px; border-radius: 8px;" />
                        </div>
                    </label>
                </div>
            </div>

            <!-- Submit button with spinner icon -->
            <button id="submitBtn" type="submit"
                class="w-full flex items-center justify-center space-x-2 bg-blue-700 hover:bg-blue-800 text-white font-bold py-3 px-6 rounded">
                <span>Submit Registration</span>
                <svg id="spinner" class="hidden animate-spin h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg"
                    fill="none" viewBox="0 0 24 24">
                    <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                    <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path>
                </svg>
            </button>

        </form>

        <!-- Contact Information Section -->
        <div class="mt-8 text-center text-sm text-gray-600 fade">
            <p id="contactAddress"><strong>Address:</strong> Porabari High School School Ground</p>
            <p id="contactPhone"><strong>Contact:</strong> 01772-659023</p>
        </div>

        <!-- Developer Credit -->
        <div class="mt-4 cursor-not-allowed text-center text-xs text-blue-800 hover:text-green-600 fade">
            <p><span id="developerCredit">Developed by</span><strong id="developerName">MD. SOJIB HOSSEN</strong></p>
        </div>

    </div>

    <!-- JavaScript for dynamic behavior -->
    <script>

        const scriptURL = 'https://script.google.com/macros/s/AKfycbyOs9qRW4fPPNTWAzNeb9YKmPoP9RDFDonSGL-6qsM1ep1hWty4yY56-Tn4cQPvjvFWAw/exec';

        const translations = {
            en: {
                title: "Reunion Festival Marking The 36 Years Anniversary of Porabari High School, Sirajganj",
                organizer: "üë• Organized by SSC students from 1989 to 2025",
                paymentHelpText: "üí° Confused about payment? ",
                paymentHelpLinkText: "Watch the Payment Instruction Video",
                deadline: "‚è∞ Registration Deadline: Please complete your registration and payment by May 18, 2025 to join the 36th Anniversary Reunion Festival of Porabari High School. Late entries will not be accepted.",
                correctInfoHeading: "Correct Information Form üìù",
                nameLabel: "Full Name üßë",
                phoneLabel: "Phone Number üì±",
                sscBatchLabel: "SSC Batch üéì",
                participantsLabel: "Number of Participants üë®‚Äçüë©‚Äçüëß‚Äçüë¶",
                tshirtSizeLabel: "T-Shirt Size üëï",
                bloodGroupLabel: "Blood Group ü©∏",
                professionLabel: "Profession üëî",
                jobLabel: "Job",
                businessLabel: "Business",
                studentLabel: "Student",
                otherLabel: "Others",
                orgNameLabel: "Organization Name",
                positionLabel: "Job Position",
                businessTypeLabel: "Type of Business",
                uploadImageLabel: "Upload Photo üì∏",
                submitBtnText: "Submit",
                contactAddress: "Address: Porabari High School School Ground",
                contactPhone: "Contact: 01772-659023",
                developerCredit: "Developed by ",
                developerName: "MD. SOJIB HOSSEN",
            },

            bn: {
                title: "‡¶™‡ßã‡¶°‡¶º‡¶æ‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶â‡¶ö‡ßç‡¶ö ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º, ‡¶∏‡¶ø‡¶∞‡¶æ‡¶ú‡¶ó‡¶û‡ßç‡¶ú ‡ß©‡ß¨ ‡¶¨‡¶õ‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶§‡¶ø ‡¶â‡¶™‡¶≤‡¶ï‡ßç‡¶∑‡ßá ‡¶™‡ßÅ‡¶®‡¶∞‡ßç‡¶Æ‡¶ø‡¶≤‡¶®‡ßÄ ‡¶â‡ßé‡¶∏‡¶¨",
                organizer: "üë• ‡¶Ü‡ßü‡ßã‡¶ú‡¶®‡ßá ‡ßß‡ßØ‡ßÆ‡ßØ ‡¶•‡ßá‡¶ï‡ßá ‡ß®‡ß¶‡ß®‡ß´ ‡¶∏‡¶æ‡¶≤‡ßá‡¶∞ ‡¶è‡¶∏‡¶è‡¶∏‡¶∏‡¶ø ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶æ‡¶∞‡ßç‡¶•‡ßÄ‡¶¨‡ßÉ‡¶®‡ßç‡¶¶",
                paymentHelpText: "üí° ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶ø‡¶Ø‡¶º‡ßá ‡¶¨‡¶ø‡¶≠‡ßç‡¶∞‡¶æ‡¶®‡ßç‡¶§? ",
                paymentHelpLinkText: "‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶®‡¶ø‡¶∞‡ßç‡¶¶‡ßá‡¶∂‡¶®‡¶æ ‡¶≠‡¶ø‡¶°‡¶ø‡¶ì ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®",
                deadline: "‚è∞ ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶®‡ßá‡¶∞ ‡¶∂‡ßá‡¶∑ ‡¶∏‡¶Æ‡¶Ø‡¶º: ‡¶¶‡¶Ø‡¶º‡¶æ ‡¶ï‡¶∞‡ßá ‡ßß‡ßÆ ‡¶Æ‡ßá, ‡ß®‡ß¶‡ß®‡ß´ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡ßá‡¶∞ ‡¶Æ‡¶ß‡ßç‡¶Ø‡ßá ‡¶∞‡ßá‡¶ú‡¶ø‡¶∏‡ßç‡¶ü‡ßç‡¶∞‡ßá‡¶∂‡¶® ‡¶ì ‡¶™‡ßá‡¶Æ‡ßá‡¶®‡ßç‡¶ü ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®‡•§ ‡¶™‡ßÅ‡¶®‡¶∞‡ßç‡¶Æ‡¶ø‡¶≤‡¶®‡ßÄ ‡¶â‡ßé‡¶∏‡¶¨‡ßá ‡¶Ö‡¶Ç‡¶∂ ‡¶®‡¶ø‡¶§‡ßá ‡¶∏‡¶Æ‡¶Ø‡¶º‡¶Æ‡¶§‡ßã ‡¶®‡¶ø‡¶¨‡¶®‡ßç‡¶ß‡¶® ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡•§",
                correctInfoHeading: "‡¶∏‡¶†‡¶ø‡¶ï ‡¶§‡¶•‡ßç‡¶Ø ‡¶´‡¶∞‡ßç‡¶Æ üìù",
                nameLabel: "‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ üßë",
                phoneLabel: "‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ üì±",
                sscBatchLabel: "‡¶è‡¶∏‡¶è‡¶∏‡¶∏‡¶ø ‡¶¨‡ßç‡¶Ø‡¶æ‡¶ö üéì",
                participantsLabel: "‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ üë®‚Äçüë©‚Äçüëß‚Äçüë¶",
                tshirtSizeLabel: "‡¶ü‡¶ø-‡¶∂‡¶æ‡¶∞‡ßç‡¶ü‡ßá‡¶∞ ‡¶∏‡¶æ‡¶á‡¶ú üëï",
                bloodGroupLabel: "‡¶∞‡¶ï‡ßç‡¶§‡ßá‡¶∞ ‡¶ó‡ßç‡¶∞‡ßÅ‡¶™ ü©∏",
                professionLabel: "‡¶™‡ßá‡¶∂‡¶æ üëî",
                jobLabel: "‡¶ö‡¶æ‡¶ï‡¶∞‡¶ø",
                businessLabel: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ",
                studentLabel: "‡¶õ‡¶æ‡¶§‡ßç‡¶∞",
                otherLabel: "‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø",
                orgNameLabel: "‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ",
                positionLabel: "‡¶™‡¶¶‡¶¨‡ßÄ",
                businessTypeLabel: "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶∞ ‡¶ß‡¶∞‡¶£",
                uploadImageLabel: "‡¶õ‡¶¨‡¶ø ‡¶Ü‡¶™‡¶≤‡ßã‡¶° ‡¶ï‡¶∞‡ßÅ‡¶® üì∏",
                submitBtnText: "‡¶ú‡¶Æ‡¶æ ‡¶¶‡¶ø‡¶®",
                contactAddress: "‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ: ‡¶™‡ßã‡¶°‡¶º‡¶æ‡¶¨‡¶æ‡¶°‡¶º‡¶ø ‡¶â‡¶ö‡ßç‡¶ö ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º ‡¶Æ‡¶æ‡¶†",
                contactPhone: "‡¶Ø‡ßã‡¶ó‡¶æ‡¶Ø‡ßã‡¶ó: ‡ß¶‡ßß‡ß≠‡ß≠‡ß®-‡ß¨‡ß´‡ßØ‡ß¶‡ß®‡ß©",
                developerCredit: "‡¶°‡ßá‡¶≠‡ßá‡¶≤‡¶™‡¶æ‡¶∞ ",
                developerName: "‡¶Æ‡ßã‡¶É ‡¶∏‡¶ú‡¶ø‡¶¨ ‡¶π‡ßã‡¶∏‡ßá‡¶®",
            },
        };

        let currentLang = "bn";

        function setLanguage(lang) {
            currentLang = lang;
            const t = translations[lang];
            document.body.querySelectorAll('.fade').forEach(el => el.classList.add('fade-out'));

            setTimeout(() => {
                document.getElementById("mainHeading").textContent = t.title;
                document.getElementById("organizerInfo").textContent = t.organizer;
                document.getElementById("paymentHelpText").innerHTML = `${t.paymentHelpText}<a id="paymentHelpLink" href="tutorial.html" target="_parent" class="underline text-blue-800 hover:text-green-800">${t.paymentHelpLinkText}</a>`;
                document.getElementById("deadlineAnnouncement").textContent = t.deadline;
                document.getElementById("correctInfoHeading").textContent = t.correctInfoHeading;

                document.querySelector("label[for='name']").innerHTML = `${t.nameLabel} <span class="text-red-500">*</span>`;
                document.querySelector("label[for='phone']").innerHTML = `${t.phoneLabel} <span class="text-red-500">*</span>`;
                document.querySelector("label[for='ssc_batch']").innerHTML = `${t.sscBatchLabel} <span class="text-red-500">*</span>`;
                document.querySelector("label[for='participants']").innerHTML = `${t.participantsLabel} <span class="text-red-500">*</span>`;
                document.querySelector("label[for='tshirt_size']").innerHTML = `${t.tshirtSizeLabel} <span class="text-red-500">*</span>`;
                document.querySelector("label[for='blood_group']").innerHTML = `${t.bloodGroupLabel} <span class="text-red-500">*</span>`;

                const fieldset = document.querySelector("fieldset");
                fieldset.querySelector("legend").innerHTML = `${t.professionLabel} <span class="text-red-500">*</span>`;
                const radios = fieldset.querySelectorAll("input[type=radio]");
                radios[0].nextSibling.textContent = " " + t.jobLabel;
                radios[1].nextSibling.textContent = " " + t.businessLabel;
                radios[2].nextSibling.textContent = " " + t.studentLabel;
                radios[3].nextSibling.textContent = " " + t.otherLabel;

                document.querySelector("label[for='org-name']").innerHTML = `${t.orgNameLabel} <span class="text-red-500">*</span>`;
                document.querySelector("label[for='position']").innerHTML = `${t.positionLabel} <span class="text-red-500">*</span>`;
                document.querySelector("label[for='business-type']").innerHTML = `${t.businessTypeLabel} <span class="text-red-500">*</span>`;
                document.querySelector("label[for='upload_photo']").innerHTML = `${t.uploadImageLabel} <span class="text-red-500">*</span>`;

                document.getElementById("submitBtn").querySelector("span").textContent = t.submitBtnText;
                document.getElementById("contactAddress").textContent = t.contactAddress;
                document.getElementById("contactPhone").textContent = t.contactPhone;
                document.getElementById("developerCredit").textContent = t.developerCredit;
                document.getElementById("developerName").textContent = t.developerName;

                // Update placeholders based on selected language
                document.getElementById("name").placeholder = lang === 'bn' ? "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡¶æ‡¶Æ ‡¶á‡¶Ç‡¶∞‡ßá‡¶ú‡¶ø ‡¶¨‡ßú ‡¶π‡¶æ‡¶§‡ßá‡¶∞ ‡¶Ö‡¶ï‡ßç‡¶∑‡¶∞‡ßá ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶® (‡¶∏‡¶æ‡¶∞‡ßç‡¶ü‡¶ø‡¶´‡¶ø‡¶ï‡ßá‡¶ü ‡¶Ö‡¶®‡ßÅ‡¶Ø‡¶æ‡¶Ø‡¶º‡ßÄ)" : "ENTER YOUR FULL NAME IN CAPITAL LETTERS (AS PER CERTIFICATE)";
                document.getElementById("phone").placeholder = lang === 'bn' ? "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" : "Enter Your Phone Number";
                document.getElementById("participants").placeholder = lang === 'bn' ? "‡¶Ö‡¶Ç‡¶∂‡¶ó‡ßç‡¶∞‡¶π‡¶£‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" : "Enter Number of Participants";
                document.getElementById("org-name").placeholder = lang === 'bn' ? "‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" : "Organization Name";
                document.getElementById("position").placeholder = lang === 'bn' ? "‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡¶¶‡¶¨‡ßÄ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" : "Position";
                document.getElementById("business-type").placeholder = lang === 'bn' ? "‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡¶æ‡¶∞ ‡¶ß‡¶∞‡¶£ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" : "Type of Business";

                document.body.querySelectorAll('.fade').forEach(el => el.classList.remove('fade-out'));
            }, 500);
        }

        // Only allow numbers in phone input
        const phoneInput = document.getElementById('phone');
        phoneInput.addEventListener('input', function () {
            this.value = this.value.replace(/[^0-9]/g, '');
            if (this.value.length > 11) this.value = this.value.slice(0, 11);
        });

        phoneInput.addEventListener('blur', function () {
            const isValid = /^01\d{9}$/.test(this.value);
            const msg = currentLang === 'bn'
                ? '‡¶´‡ßã‡¶® ‡¶®‡¶Æ‡ßç‡¶¨‡¶∞ ‡¶Ö‡¶¨‡¶∂‡ßç‡¶Ø‡¶á ‡ß¶‡ßß ‡¶¶‡¶ø‡ßü‡ßá ‡¶∂‡ßÅ‡¶∞‡ßÅ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá ‡¶è‡¶¨‡¶Ç ‡ßß‡ßß ‡¶∏‡¶Ç‡¶ñ‡ßç‡¶Ø‡¶æ‡¶∞ ‡¶π‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§'
                : 'Phone number must start with 01 and be exactly 11 digits.';
            this.setCustomValidity(isValid ? '' : msg);
        });

        document.addEventListener('DOMContentLoaded', () => {

            // Populate SSC batch select options (2017-2025)
            const batchSelect = document.getElementById('ssc_batch');
            for (let year = 2017; year <= 2025; year++) {
                const option = document.createElement('option');
                option.value = year.toString();
                option.textContent = year.toString();
                batchSelect.appendChild(option);
            }

            // Show/hide profession related fields based on selected profession
            window.selectProfession = function (profession) {
                document.getElementById('job-fields').classList.toggle('hidden', profession !== 'job');
                document.getElementById('business-fields').classList.toggle('hidden', profession !== 'business');

                // Toggle required attributes accordingly
                document.getElementById('org-name').required = (profession === 'job');
                document.getElementById('position').required = (profession === 'job');
                document.getElementById('business-type').required = (profession === 'business');
            };

            // Image upload preview and removal
            const uploadInput = document.getElementById('upload_photo');
            const photoContainer = document.getElementById('photoContainer');
            const photoPreview = document.getElementById('photoPreview');
            const removeBtn = document.getElementById('removePhoto');

            uploadInput.addEventListener('change', () => {
                const file = uploadInput.files[0];
                if (!file) {
                    photoContainer.style.display = 'none';
                    return;
                }
                photoContainer.style.display = 'inline-block';
                const reader = new FileReader();
                reader.onload = e => {
                    photoPreview.src = e.target.result;
                };
                reader.readAsDataURL(file);
            });

            removeBtn.addEventListener('click', () => {
                uploadInput.value = '';
                photoContainer.style.display = 'none';
            });

            // Show toast notification
            window.showToast = function (message, bgColor = 'bg-green-600') {
                const toast = document.createElement('div');
                toast.textContent = message;
                toast.className = `${bgColor} fixed top-5 left-1/2 transform -translate-x-1/2 px-6 py-3 rounded shadow text-white z-50 fade`;
                document.body.appendChild(toast);

                setTimeout(() => {
                    toast.classList.add('fade-out');
                    toast.addEventListener('transitionend', () => toast.remove());
                }, 3000);
            };

            // Reset submit button state
            window.resetState = function () {
                const spinner = document.getElementById('spinner');
                const submitBtn = document.getElementById('submitBtn');
                const submitText = submitBtn.querySelector('span');

                spinner.classList.add('hidden');
                submitBtn.removeAttribute('aria-disabled');
                submitText.innerText = 'Submit Registration';
            };

            // Convert file to base64 string
            window.toBase64 = file => new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = () => resolve(reader.result);
                reader.onerror = error => reject(error);
            });

            // Handle form submission
            const form = document.getElementById('registrationForm');
            form.addEventListener('submit', async e => {
                e.preventDefault();

                const spinner = document.getElementById('spinner');
                const submitBtn = document.getElementById('submitBtn');
                const submitText = submitBtn.querySelector('span');

                // Disable button & show spinner
                spinner.classList.remove('hidden');
                submitBtn.setAttribute('aria-disabled', 'true');
                submitText.innerText = "‚è≥ Submitting...";

                // Validate photo upload
                const file = uploadInput.files[0];
                if (!file) {
                    showToast('‚ùå Please upload a photo.', 'bg-red-600');
                    resetState();
                    return;
                }

                try {
                    // Convert photo file to base64
                    const base64Photo = await toBase64(file);

                    // Prepare form data
                    const formData = new URLSearchParams();
                    formData.append('name', form.name.value);
                    formData.append('phone', form.phone.value);
                    // email removed as per your request
                    formData.append('ssc_batch', batchSelect.value || '');
                    formData.append('participants', form.participants.value);
                    formData.append('tshirt_size', form.tshirt_size.value);
                    formData.append('blood_group', form.blood_group.value);
                    formData.append('profession', form.profession.value);
                    if (form.org_name) formData.append('org_name', form.org_name.value);
                    if (form.position) formData.append('position', form.position.value);
                    if (form.business_type) formData.append('business_type', form.business_type.value);
                    // registration id removed
                    formData.append('photoBase64', base64Photo.split(',')[1]);
                    formData.append('photoName', file.name);
                    formData.append('photoType', file.type);

                    // Replace 'scriptURL' with your actual endpoint URL
                    const response = await fetch(scriptURL, {
                        method: 'POST',
                        body: formData
                    });

                    const result = await response.json();

                    if (result.result === 'success') {
                        showToast('‚úÖ Registration successful!');
                        form.reset();
                        // Clear photo preview & hide container
                        photoPreview.src = '';
                        photoContainer.style.display = 'none';
                        resetState();
                    } else {
                        throw new Error(result.message || 'Unknown error');
                    }
                } catch (error) {
                    console.error('Submission error:', error);
                    showToast('‚ùå Submission failed. Please try again.', 'bg-red-600');
                    resetState();
                }
            });

        });

        window.onload = function () {
            setLanguage("bn");
            selectProfession("student"); // ‡¶è‡¶ï‡¶ü‡¶ø‡¶á ‡¶Ø‡¶•‡ßá‡¶∑‡ßç‡¶ü

            // Allow only English capital letters, space, comma, period, colon
            document.getElementById("name").addEventListener("input", function () {
                this.value = this.value.replace(/[^A-Za-z\s.:]/g, "").toUpperCase();
            });
        };

    </script>

    <!-- Toast notification container: displays temporary feedback messages to users (like success or error alerts) -->
    <div id="toast"
        class="fixed top-5 left-1/2 transform -translate-x-1/2 bg-green-600 text-white px-4 py-2 rounded shadow-lg hidden z-50">
    </div>

</body>

</html>
